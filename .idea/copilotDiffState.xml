<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/java/ar/utn/ba/ddsi/apipublica/ApiPublicaApplication.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/ar/utn/ba/ddsi/apipublica/ApiPublicaApplication.java" />
              <option name="originalContent" value="package ar.utn.ba.ddsi.apipublica;&#10;&#10;import org.springframework.boot.SpringApplication;&#10;import org.springframework.boot.autoconfigure.SpringBootApplication;&#10;&#10;//TIP To &lt;b&gt;Run&lt;/b&gt; code, press &lt;shortcut actionId=&quot;Run&quot;/&gt; or&#10;// click the &lt;icon src=&quot;AllIcons.Actions.Execute&quot;/&gt; icon in the gutter.&#10;@SpringBootApplication&#10;public class ApiPublicaApplication {&#10;    public static void main(String[] args) {&#10;        SpringApplication.run(ApiPublicaApplication.class, args);&#10;        System.out.println(&quot;API PUBLICA INICIADA&quot;);&#10;    }&#10;}" />
              <option name="updatedContent" value="package ar.utn.ba.ddsi.apipublica;&#10;&#10;import org.springframework.boot.SpringApplication;&#10;import org.springframework.boot.autoconfigure.SpringBootApplication;&#10;&#10;//TIP To &lt;b&gt;Run&lt;/b&gt; code, press &lt;shortcut actionId=&quot;Run&quot;/&gt; or&#10;// click the &lt;icon src=&quot;AllIcons.Actions.Execute&quot;/&gt; icon in the gutter.&#10;@SpringBootApplication&#10;public class ApiPublicaApplication {&#10;    public static void main(String[] args) {&#10;        SpringApplication.run(ApiPublicaApplication.class, args);&#10;        System.out.println(&quot;API PUBLICA INICIADA&quot;);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/ar/utn/ba/ddsi/apipublica/models/repository/ContribuyenteRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/ar/utn/ba/ddsi/apipublica/models/repository/ContribuyenteRepository.java" />
              <option name="originalContent" value="package ar.utn.ba.ddsi.apipublica.models.repository;&#10;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.Contribuyente;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;@Repository&#10;public interface ContribuyenteRepository extends JpaRepository&lt;Contribuyente, Long&gt; {&#10;    // JpaRepository ya provee findById, findAll, save, delete, etc.&#10;}&#10;" />
              <option name="updatedContent" value="package ar.utn.ba.ddsi.apipublica.models.repository;&#10;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.Contribuyente;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;@Repository&#10;public interface ContribuyenteRepository extends JpaRepository&lt;Contribuyente, Long&gt; {&#10;    // JpaRepository ya provee findById, findAll, save, delete, etc.&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/ar/utn/ba/ddsi/apipublica/models/repository/FuenteRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/ar/utn/ba/ddsi/apipublica/models/repository/FuenteRepository.java" />
              <option name="originalContent" value="package ar.utn.ba.ddsi.apipublica.models.repository;&#10;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.Fuente;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;import java.util.Optional;&#10;&#10;@Repository&#10;public interface FuenteRepository extends JpaRepository&lt;Fuente, Long&gt; {&#10;    Optional&lt;Fuente&gt; findById(long idFuente);&#10;    Optional&lt;Fuente&gt; findByNombreIgnoreCase(String nombre);&#10;}&#10;" />
              <option name="updatedContent" value="package ar.utn.ba.ddsi.apipublica.models.repository;&#10;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.Fuente;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;import java.util.Optional;&#10;&#10;@Repository&#10;public interface FuenteRepository extends JpaRepository&lt;Fuente, Long&gt; {&#10;    Optional&lt;Fuente&gt; findById(long idFuente);&#10;    Optional&lt;Fuente&gt; findByNombreIgnoreCase(String nombre);&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/ar/utn/ba/ddsi/apipublica/models/repository/SolicitudRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/ar/utn/ba/ddsi/apipublica/models/repository/SolicitudRepository.java" />
              <option name="originalContent" value="package ar.utn.ba.ddsi.apipublica.models.repository;&#10;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.SolicitudEliminacion;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;@Repository&#10;public interface SolicitudRepository extends JpaRepository&lt;SolicitudEliminacion, Long&gt; {&#10;}&#10;" />
              <option name="updatedContent" value="package ar.utn.ba.ddsi.apipublica.models.repository;&#10;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.SolicitudEliminacion;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;@Repository&#10;public interface SolicitudRepository extends JpaRepository&lt;SolicitudEliminacion, Long&gt; {&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/ar/utn/ba/ddsi/apipublica/services/SolicitudService.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/ar/utn/ba/ddsi/apipublica/services/SolicitudService.java" />
              <option name="originalContent" value="package ar.utn.ba.ddsi.apipublica.services;&#10;&#10;import ar.utn.ba.ddsi.apipublica.models.dtos.SolicitudCreateDTO;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.Contribuyente;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.Hecho;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.SolicitudEliminacion;&#10;import ar.utn.ba.ddsi.apipublica.models.repository.ContribuyenteRepository;&#10;import ar.utn.ba.ddsi.apipublica.models.repository.HechoRepository;&#10;import ar.utn.ba.ddsi.apipublica.models.repository.SolicitudRepository;&#10;import org.springframework.stereotype.Service;&#10;&#10;import java.time.LocalDate;&#10;import java.util.List;&#10;&#10;@Service&#10;public class SolicitudService implements ISolicitudService{&#10;&#10;    private final SolicitudRepository solicitudRepository;&#10;    private final HechoRepository hechoRepository;&#10;    private final ContribuyenteRepository contribuyenteRepository;&#10;&#10;    public SolicitudService(SolicitudRepository solicitudRepository, HechoRepository hechoRepository, ContribuyenteRepository contribuyenteRepository) {&#10;        this.solicitudRepository = solicitudRepository;&#10;        this.hechoRepository = hechoRepository;&#10;        this.contribuyenteRepository = contribuyenteRepository;&#10;    }&#10;&#10;    @Override&#10;    public SolicitudEliminacion crearSolicitud(SolicitudCreateDTO dto) throws IllegalArgumentException{&#10;        if (dto == null) throw new IllegalArgumentException(&quot;Datos de la solicitud vacios&quot;);&#10;        if (dto.getMotivo() == null || dto.getMotivo().trim().isEmpty()) throw new IllegalArgumentException(&quot;Motivo requerido&quot;);&#10;&#10;        Hecho hecho = hechoRepository.findById(dto.getIdHecho()).orElse(null);&#10;        if (hecho == null) throw new IllegalArgumentException(&quot;Hecho no encontrado&quot;);&#10;&#10;        Contribuyente solicitante = contribuyenteRepository.findById(dto.getIdContribuyente()).orElse(null);&#10;        if (solicitante == null) throw new IllegalArgumentException(&quot;Contribuyente no encontrado&quot;);&#10;&#10;        SolicitudEliminacion solicitud = new SolicitudEliminacion(solicitante, hecho, LocalDate.now(), dto.getMotivo());&#10;        return solicitudRepository.save(solicitud);&#10;    }&#10;&#10;    @Override&#10;    public List&lt;SolicitudEliminacion&gt; listarSolicitudes() {&#10;        return solicitudRepository.findAll();&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package ar.utn.ba.ddsi.apipublica.services;&#10;&#10;import ar.utn.ba.ddsi.apipublica.models.dtos.SolicitudCreateDTO;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.Contribuyente;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.Hecho;&#10;import ar.utn.ba.ddsi.apipublica.models.entities.SolicitudEliminacion;&#10;import ar.utn.ba.ddsi.apipublica.models.repository.ContribuyenteRepository;&#10;import ar.utn.ba.ddsi.apipublica.models.repository.HechoRepository;&#10;import ar.utn.ba.ddsi.apipublica.models.repository.SolicitudRepository;&#10;import org.springframework.stereotype.Service;&#10;&#10;import java.time.LocalDate;&#10;import java.util.List;&#10;&#10;@Service&#10;public class SolicitudService implements ISolicitudService{&#10;&#10;    private final SolicitudRepository solicitudRepository;&#10;    private final HechoRepository hechoRepository;&#10;    private final ContribuyenteRepository contribuyenteRepository;&#10;&#10;    public SolicitudService(SolicitudRepository solicitudRepository, HechoRepository hechoRepository, ContribuyenteRepository contribuyenteRepository) {&#10;        this.solicitudRepository = solicitudRepository;&#10;        this.hechoRepository = hechoRepository;&#10;        this.contribuyenteRepository = contribuyenteRepository;&#10;    }&#10;&#10;    @Override&#10;    public SolicitudEliminacion crearSolicitud(SolicitudCreateDTO dto) throws IllegalArgumentException{&#10;        if (dto == null) throw new IllegalArgumentException(&quot;Datos de la solicitud vacios&quot;);&#10;        if (dto.getMotivo() == null || dto.getMotivo().trim().isEmpty()) throw new IllegalArgumentException(&quot;Motivo requerido&quot;);&#10;&#10;        Hecho hecho = hechoRepository.findById(dto.getIdHecho()).orElse(null);&#10;        if (hecho == null) throw new IllegalArgumentException(&quot;Hecho no encontrado&quot;);&#10;&#10;        Contribuyente solicitante = contribuyenteRepository.findById(dto.getIdContribuyente()).orElse(null);&#10;        if (solicitante == null) throw new IllegalArgumentException(&quot;Contribuyente no encontrado&quot;);&#10;&#10;        SolicitudEliminacion solicitud = new SolicitudEliminacion(solicitante, hecho, LocalDate.now(), dto.getMotivo());&#10;        return solicitudRepository.save(solicitud);&#10;    }&#10;&#10;    @Override&#10;    public List&lt;SolicitudEliminacion&gt; listarSolicitudes() {&#10;        return solicitudRepository.findAll();&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>